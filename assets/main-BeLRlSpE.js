import{c as d,r as c,a as o,g as n,H as w,U as p,b as i,P as b,F as f,L as P}from"./render-D_8WF0uG.js";const m=(t,r)=>{const{subscribe:g,notify:s}=d(),a=()=>{const e=window.location.pathname;return e.startsWith(r)?e.slice(r.length-1)||"/":e},u=()=>t[a()],l=e=>{const h=r+e;window.history.pushState({},"",h),s()};return window.addEventListener("popstate",()=>s()),{get path(){return a()},push:l,subscribe:g,getTarget:u}};c.set(m({"/":w,"/login":()=>{const{loggedIn:t}=n.getState();if(t)throw new f;return i(P,null)},"/profile":()=>{const{loggedIn:t}=n.getState();if(!t)throw new p;return i(b,null)}}));function S(){c.get().subscribe(o),n.subscribe(o),o()}S();
